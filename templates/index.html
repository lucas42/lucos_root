<!DOCTYPE html> 
<html> 
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<link rel="apple-touch-icon" href="/icon.png"/>
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<link rel="icon" href="/favicon.png" />
		<title>LucOS</title>
		<link href="/style.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<lucos-navbar>Home</lucos-navbar>
		<div class='linkcontainer'><services-list />
		</div>
		<div id='bookmarks'>
			<ul>
				<li><a href="http://mail.lukeblaney.co.uk/" title="gMail" target="_blank"><img src="/gmail.png" alt="gMail" /></a></li>
				<li><a href="http://cal.lukeblaney.co.uk/" title="gCal" target="_blank">gCal</a></li>
				<li><a href="http://facebook.com/" title="facebook" target="_blank">Facebook</a></li>
				<li><a href="http://twitter.com/" title="Twitter" target="_blank">Twitter</a></li>
			</ul>
		</div>
		<script src="/lucos_navbar.js" type="text/javascript"></script>
		<script type="text/javascript">
			(async () => {
				if (!navigator.onLine) document.body.classList.add("offline");
				window.addEventListener('offline', () => document.body.classList.add("offline"));
				window.addEventListener('online', () => document.body.classList.remove("offline"));

				try {
					if (!('serviceWorker' in navigator)) throw "no service worker support";
					const registration = await navigator.serviceWorker.register('/serviceworker.js');
					console.log('ServiceWorker registration successful with scope: ' + registration.scope);
					registration.update();
				} catch (error) {
					console.error('ServiceWorker registration failed: ' + error);
				}
			})();
		</script>
	</body>
</html>
